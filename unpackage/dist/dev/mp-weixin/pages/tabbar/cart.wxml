<view class="container"><view class="cart-top"><view class="cart-top-main"><block wx:for="{{navList}}" wx:for-item="v" wx:for-index="k" wx:key="k"><view data-event-opts="{{[['tap',[['changeCart',[k]]]]]}}" class="{{['cart-top-main-item',(active==k)?'cart-top-active':'']}}" catchtap="__e">{{v.name}}</view></block></view><view data-event-opts="{{[['tap',[['changDel',['$event']]]]]}}" class="cart-status" catchtap="__e">{{topText}}</view></view><block wx:if="{{dataList.length==0}}"><cart-empty bind:click="__e" vue-id="4b7a7c3e-1" data-event-opts="{{[['^click',[['navToLogin']]]]}}" bind:__l="__l"></cart-empty></block><block wx:for="{{dataList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="cart-list"><view data-event-opts="{{[['tap',[['shopDetails',['$0',0],[[['dataList','',index,'shopId']]]]]]]}}" class="cart-item-title" catchtap="__e"><view class="cart-item-title-top"><view data-event-opts="{{[['tap',[['check',['shopitem',index]]]]]}}" catchtap="__e"><block wx:if="{{item.checked}}"><view class="iconfont icon-xuanzhong" style="color:#ff4848;"></view></block><block wx:else><view class="iconfont icon-circle" style="color:#898989;"></view></block></view><image class="shopIcon" style="margin-left:10rpx;" src="/static/img/dianpu@2x.png"></image><view class="cart-item-title-top-text">{{item.shopName}}</view></view><view class="iconfont icon-youjiantou"></view></view><block wx:for="{{item.cartList}}" wx:for-item="v" wx:for-index="k" wx:key="k"><view class="cart-item"><view class="cart-item-left"><view data-event-opts="{{[['tap',[['check',['item',index,k]]]]]}}" catchtap="__e"><block wx:if="{{v.checked}}"><view class="iconfont icon-xuanzhong" style="color:#ff4848;"></view></block><block wx:else><view class="iconfont icon-circle" style="color:#898989;"></view></block></view><image class="product-img" src="{{v.logo}}" mode="aspectFill" lazy-load="{{true}}"></image></view><view data-event-opts="{{[['tap',[['shopDetails',['$0',1],[[['dataList','',index],['cartList','',k,'productId']]]]]]]}}" class="item-right" catchtap="__e"><view class="item-right-top"><text class="clamp title uni-ellipsis">{{v.title}}</text></view><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="item-right-top" catchtap="__e"><text class="clamp skuclass">{{v.skuName}}</text><block wx:if="{{active==0}}"><text class="clamp skuclass">{{"起订量:"+v.minQty}}</text></block></view><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="item-right-top" catchtap="__e"><text class="price">{{"￥"+(v.qty>v.maxQty?v.discount:v.price)}}</text><uni-number-box class="step" vue-id="{{'4b7a7c3e-2-'+index+'-'+k}}" min="1" value="{{v.qty}}" step="{{index}}" index="{{k}}" data-event-opts="{{[['^change',[['numberChange']]]]}}" bind:change="__e" bind:__l="__l"></uni-number-box></view></view></view></block></view></block><block wx:if="{{dataList.length!=0}}"><view><block wx:if="{{bianji}}"><view class="{{['action-section',(total==0)?'bottom-width':'']}}"><block wx:if="{{active==0}}"><view data-event-opts="{{[['tap',[['check',['all']]]]]}}" class="checkbox" catchtap="__e"><block wx:if="{{allChecked}}"><view class="iconfont icon-xuanzhong" style="color:#ff4848;"></view></block><block wx:else><view class="iconfont icon-circle" style="color:#898989;"></view></block></view></block><block wx:else><view class="checkbox"></view></block><block wx:if="{{total!=0}}"><view class="total-box"><text class="price">{{"¥"+total}}</text></view></block><button class="no-border confirm-btn" type="primary" data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" catchtap="__e">去结算</button></view></block><block wx:else><view class="action-section bottom-width"><view data-event-opts="{{[['tap',[['check',['all']]]]]}}" class="checkbox" catchtap="__e"><block wx:if="{{allChecked}}"><view class="iconfont icon-xuanzhong" style="color:#ff4848;"></view></block><block wx:else><view class="iconfont icon-circle" style="color:#898989;"></view></block></view><view data-event-opts="{{[['tap',[['deleteCartItem',['$event']]]]]}}" class="del-btn" catchtap="__e">删除</view></view></block></view></block></view>