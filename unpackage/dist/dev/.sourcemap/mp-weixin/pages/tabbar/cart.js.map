{"version":3,"sources":["uni-app:///main.js","webpack:///D:/lixindom/2020/馨网购/xinwanggou/pages/tabbar/cart.vue?3e78","webpack:///D:/lixindom/2020/馨网购/xinwanggou/pages/tabbar/cart.vue?ac03","webpack:///D:/lixindom/2020/馨网购/xinwanggou/pages/tabbar/cart.vue?34c9","webpack:///D:/lixindom/2020/馨网购/xinwanggou/pages/tabbar/cart.vue?c5f6","uni-app:///pages/tabbar/cart.vue","webpack:///D:/lixindom/2020/馨网购/xinwanggou/pages/tabbar/cart.vue?88df","webpack:///D:/lixindom/2020/馨网购/xinwanggou/pages/tabbar/cart.vue?28e1"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,2F;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AAC8K;AAC9K,gBAAgB,6KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4NAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAwpB,CAAgB,8mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0E5qB;AACA;AACA,8BADA;AAEA,wBAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA;AACA,kBADA;AAEA,eAFA;;AAIA;AACA,kBADA;AAEA,eAFA,EAJA,CADA;;;AAUA,mBAVA;AAWA,kBAXA;AAYA,eAZA;AAaA,cAbA;AAcA,uBAdA;AAeA,uBAfA;AAgBA,kBAhBA;AAiBA,gBAjBA;;AAmBA,GAzBA;AA0BA,QA1BA,oBA0BA;AACA;AACA;AACA;AACA,GA9BA;AA+BA,QA/BA,oBA+BA;AACA;AACA;AACA;AACA;AACA,KAJA,MAIA;AACA;AACA;AACA,GAvCA;AAwCA;AACA,eADA,uBACA,EADA,EACA,IADA,EACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KATA;AAUA,cAVA,wBAUA;AACA;AACA,iCADA;;AAGA,KAdA;AAeA,cAfA,sBAeA,GAfA,EAeA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1BA;AA2BA,YA3BA,sBA2BA;AACA;AACA;AACA,sCADA;AAEA,eAFA;;AAIA;AACA,WADA,CACA,MADA,EACA,UADA;AAEA,UAFA,CAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OARA;AASA,WATA,CASA,iBATA;AAUA,KA3CA;AA4CA,gBA5CA,wBA4CA,GA5CA,EA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApDA;AAqDA,YArDA,oBAqDA,KArDA,EAqDA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OALA;AAMA,KA7DA;AA8DA;AACA,SA/DA,iBA+DA,IA/DA,EA+DA,KA/DA,EA+DA,CA/DA,EA+DA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA,SARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KA5GA;AA6GA;AACA,gBA9GA,wBA8GA,IA9GA,EA8GA;AACA;AACA;AACA;AACA,sCADA;AAEA,gCAFA;AAGA,wBAHA;;AAKA;AACA,WADA,CACA,MADA,EACA,UADA;AAEA,UAFA,CAEA;AACA;AACA,OAJA;AAKA,WALA,CAKA,iBALA;AAMA,KA5HA;AA6HA;AACA,YA9HA,sBA8HA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KArIA;AAsIA;AACA,kBAvIA,4BAuIA;AACA;AACA,iBADA;AAEA,kBAFA;AAGA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OANA;AAOA;AACA;AACA;AACA,wBADA;AAEA,0BAFA;AAGA,2BAHA;AAIA,iCAJA;AAKA,+BALA;AAMA,iBANA,mBAMA,GANA,EAMA;AACA;AACA;AACA,8CADA;AAEA,+BAFA;;AAIA;AACA;AACA,eAFA;AAGA,aARA,MAQA;AACA;AACA;AACA,WAlBA;;AAoBA,OArBA,MAqBA;AACA;AACA;AACA,KA3KA;AA4KA,YA5KA,sBA4KA;AACA;AACA;AACA,KA/KA;AAgLA;AACA,aAjLA,uBAiLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AAEA;AACA,SATA;AAUA,OAXA;AAYA;AACA,KArMA;AAsMA,WAtMA,mBAsMA,IAtMA,EAsMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA;AAQA;AACA,KAjNA;AAkNA;AACA,eAnNA,yBAmNA;AACA;AACA,eADA;AAEA,kBAFA;AAGA,aAHA;AAIA;AACA;AACA,sBADA;AAEA,qBAFA;AAGA,oBAHA;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA,mCADA;AAEA,uCAFA;AAGA,qDAHA;AAIA,4CAJA;AAKA,+BALA;AAMA,2BANA;AAOA,gCAPA;AAQA,kDARA;;AAUA,aAnBA,MAmBA;AACA;AACA;AACA;AACA,mKADA;AAEA,8BAFA;;AAIA;;AAEA;AACA;;AAEA,SAnCA;AAoCA,OAzCA;AA0CA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KA1QA,EAxCA;;AAoTA,QApTA,oBAoTA;AACA;AACA;AACA,GAvTA,E;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAAysC,CAAgB,wjCAAG,EAAC,C;;;;;;;;;;;ACA7tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/tabbar/cart.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/tabbar/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=3c3dbdc8&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabbar/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=3c3dbdc8&\"","var components\ntry {\n  components = {\n    uniNumberBox: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-number-box/uni-number-box\" */ \"@/components/uni-number-box/uni-number-box.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 列表 -->\r\n\t\t<view class=\"cart-top\">\r\n\t\t\t<view class=\"cart-top-main\">\r\n\t\t\t\t<view class=\"cart-top-main-item\" :class=\"{ 'cart-top-active': active == k }\" v-for=\"(v, k) in navList\" :key=\"k\"\r\n\t\t\t\t @click.stop=\"changeCart(k)\">{{ v.name }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cart-status\" @click.stop=\"changDel\">{{ topText }}</view>\r\n\t\t</view>\r\n\t\t<cartEmpty v-if=\"dataList.length == 0\" @click=\"navToLogin\"></cartEmpty>\r\n\t\t<view class=\"cart-list\" v-for=\"(item, index) in dataList\" :key=\"index\">\r\n\t\t\t<view class=\"cart-item-title\" @click.stop=\"shopDetails(item.shopId, 0)\">\r\n\t\t\t\t<view class=\"cart-item-title-top\">\r\n\t\t\t\t\t<view class=\"\" @click.stop=\"check('shopitem', index)\">\r\n\t\t\t\t\t\t<view class=\"iconfont icon-xuanzhong\" style=\"color: #ff4848;\" v-if=\"item.checked\"></view>\r\n\t\t\t\t\t\t<view class=\"iconfont icon-circle\" style=\"color: #898989;\" v-else></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image src=\"/static/img/dianpu@2x.png\" class=\"shopIcon\" style=\"margin-left: 10upx;\"></image>\r\n\t\t\t\t\t<view class=\"cart-item-title-top-text\">{{ item.shopName }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"iconfont icon-youjiantou\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cart-item\" v-for=\"(v, k) in item.cartList\" :key=\"k\">\r\n\t\t\t\t<view class=\"cart-item-left\">\r\n\t\t\t\t\t<view class=\"\" @tap.stop=\"check('item', index, k)\">\r\n\t\t\t\t\t\t<view class=\"iconfont icon-xuanzhong\" style=\"color: #ff4848;\" v-if=\"v.checked\"></view>\r\n\t\t\t\t\t\t<view class=\"iconfont icon-circle\" style=\"color: #898989;\" v-else></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image :src=\"v.logo\" mode=\"aspectFill\" lazy-load class=\"product-img\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item-right\" @click.stop=\"shopDetails(v.productId, 1)\">\r\n\t\t\t\t\t<view class=\"item-right-top\">\r\n\t\t\t\t\t\t<text class=\"clamp title uni-ellipsis\">{{ v.title }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item-right-top\" @click.stop>\r\n\t\t\t\t\t\t<text class=\"clamp skuclass\">{{ v.skuName }}</text>\r\n\t\t\t\t\t\t<text class=\"clamp skuclass\" v-if=\"active==0\">起订量:{{ v.minQty }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"item-right-top\" @click.stop>\r\n\t\t\t\t\t\t<text class=\"price\" >￥{{v.qty>v.maxQty?v.discount:v.price }}</text>\r\n\t\t\t\t\t\t<uni-number-box class=\"step\" min=\"1\" :value=\"v.qty\" :step=\"index\" :index=\"k\" @change=\"numberChange\"></uni-number-box>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 底部菜单栏 -->\r\n\t\t<view v-if=\"dataList.length != 0\">\r\n\t\t\t<view class=\"action-section\" :class=\"{ 'bottom-width': total == 0 }\" v-if=\"bianji\">\r\n\t\t\t\t<view class=\"checkbox\" @tap.stop=\"check('all')\" v-if=\"active == 0\">\r\n\t\t\t\t\t<view class=\"iconfont icon-xuanzhong\" style=\"color: #ff4848;\" v-if=\"allChecked\"></view>\r\n\t\t\t\t\t<view class=\"iconfont icon-circle\" style=\"color: #898989;\" v-else></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"checkbox\" v-else></view>\r\n\r\n\t\t\t\t<view class=\"total-box\" v-if=\"total != 0\">\r\n\t\t\t\t\t<text class=\"price\">¥{{ total }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button type=\"primary\" class=\"no-border confirm-btn\" @tap.stop=\"createOrder\">去结算</button>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action-section bottom-width\" v-else>\r\n\t\t\t\t<view class=\"checkbox\" @tap.stop=\"check('all')\">\r\n\t\t\t\t\t<view class=\"iconfont icon-xuanzhong\" style=\"color: #ff4848;\" v-if=\"allChecked\"></view>\r\n\t\t\t\t\t<view class=\"iconfont icon-circle\" style=\"color: #898989;\" v-else></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"del-btn\" @tap.stop=\"deleteCartItem\">删除</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniNumberBox from '@/components/uni-number-box/uni-number-box.vue';\r\n\timport cartEmpty from '@/components/mycom/cartEmpty';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniNumberBox,\r\n\t\t\tcartEmpty\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnavList: [{\r\n\t\t\t\t\t\tname: '商城',\r\n\t\t\t\t\t\ttype: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '餐厅',\r\n\t\t\t\t\t\ttype: 2\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\ttopText: '编辑',\r\n\t\t\t\tbianji: true,\r\n\t\t\t\tactive: 0,\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tallChecked: false,\r\n\t\t\t\tstatus: 'loading',\r\n\t\t\t\tdataList: [],\r\n\t\t\t\tuseType: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tif (uni.getStorageSync('useType')) {\r\n\t\t\t\tthis.useType = uni.getStorageSync('useType')\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tif (uni.getStorageSync('uid')) {\r\n\t\t\t\tif (this.useType!=2) {\r\n\t\t\t\t\tthis.loadData();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.$api.loginType();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshopDetails(id, type) {\r\n\t\t\t\tlet url = '';\r\n\t\t\t\tif (type == 0) {\r\n\t\t\t\t\turl = `/pagesE/shop/shopDetails?id=${id}`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.active == 0 ? (url = `/pagesE/shop/goodsDetails?id=${id}`) : (url = `/pagesE/shop/eatDetails?id=${id}`);\r\n\t\t\t\t}\r\n\t\t\t\tthis.$api.navTo(url);\r\n\t\t\t},\r\n\t\t\tnavToLogin() {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '/pages/tabbar/home'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tchangeCart(ind) {\r\n\t\t\t\tthis.active = ind;\r\n\t\t\t\tif (!uni.getStorageSync('uid')) {\r\n\t\t\t\t\tthis.$api.loginType();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.allChecked = false;\r\n\t\t\t\t\tthis.dataList = [];\r\n\t\t\t\t\tif (this.useType!=2) {\r\n\t\t\t\t\t\tthis.loadData();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloadData() {\r\n\t\t\t\tlet n = this.active - 0 + 1;\r\n\t\t\t\tlet parmas = {\r\n\t\t\t\t\tuid: uni.getStorageSync('uid'),\r\n\t\t\t\t\ttype: n\r\n\t\t\t\t};\r\n\t\t\t\tthis._reqw\r\n\t\t\t\t\t.ipost(parmas, 'cartList')\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tif (res.result == 0) {\r\n\t\t\t\t\t\t\tres.dataList.length != 0 ? (this.dataList = this.formCartList(res.dataList)) : (this.empty = true);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$api.tip(res.resultNote);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {});\r\n\t\t\t},\r\n\t\t\tformCartList(res) {\r\n\t\t\t\tfor (let i in res) {\r\n\t\t\t\t\tres[i].checked = false;\r\n\t\t\t\t\tfor (let j in res[i].cartList) {\r\n\t\t\t\t\t\tres[i].cartList[j].checked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn res;\r\n\t\t\t},\r\n\t\t\tcheckALL(state) {\r\n\t\t\t\tconst list = this.dataList;\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\titem.checked = state;\r\n\t\t\t\t\titem.cartList.forEach(e => {\r\n\t\t\t\t\t\te.checked = state;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//选中状态处理\r\n\t\t\tcheck(type, index, k) {\r\n\t\t\t\tif (type == 'all') {\r\n\t\t\t\t\tconst checked = !this.allChecked;\r\n\t\t\t\t\tthis.checkALL(checked);\r\n\t\t\t\t\tthis.allChecked = checked;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst list = this.dataList[index].cartList;\r\n\t\t\t\t\tif (type == 'shopitem') {\r\n\t\t\t\t\t\tif (this.active == 1) {\r\n\t\t\t\t\t\t\tthis.checkALL(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.dataList[index].checked = !this.dataList[index].checked;\r\n\t\t\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\t\t\titem.checked = this.dataList[index].checked;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (type == 'item') {\r\n\t\t\t\t\t\tif (this.active == 1 && !this.dataList[index].cartList[k].checked) {\r\n\t\t\t\t\t\t\tthis.checkALL(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.dataList[index].cartList[k].checked = !this.dataList[index].cartList[k].checked;\r\n\t\t\t\t\t\tlet num = 0;\r\n\t\t\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\t\tnum++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tif (num == 0 || num == list.length) {\r\n\t\t\t\t\t\t\tthis.dataList[index].checked = this.dataList[index].cartList[k].checked;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.dataList[index].checked = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet a = 0;\r\n\t\t\t\t\tthis.dataList.forEach(item => {\r\n\t\t\t\t\t\tif (item.checked) {\r\n\t\t\t\t\t\t\ta++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (a == 0 || a == this.dataList.length) {\r\n\t\t\t\t\t\tthis.allChecked = this.dataList[index].checked;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.allChecked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.calcTotal();\r\n\t\t\t},\r\n\t\t\t//数量\r\n\t\t\tnumberChange(data) {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tlet currtCart = this.dataList[data.step].cartList[data.index];\r\n\t\t\t\tlet parmas = {\r\n\t\t\t\t\tuid: uni.getStorageSync('uid'),\r\n\t\t\t\t\tcartId: currtCart.cartId,\r\n\t\t\t\t\tqty: data.number\r\n\t\t\t\t};\r\n\t\t\t\tthis._reqw\r\n\t\t\t\t\t.ipost(parmas, 'editCart')\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tres.result == 0 ? ((currtCart.qty = data.number), this.calcTotal()) : this.$api.tip(res.resultNote);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {});\r\n\t\t\t},\r\n\t\t\t//  编辑\r\n\t\t\tchangDel() {\r\n\t\t\t\tif (this.dataList.length == 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.topText == '完成' ? (this.topText = '编辑') : (this.topText = '完成');\r\n\t\t\t\t\tthis.bianji = !this.bianji;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//删除\r\n\t\t\tdeleteCartItem() {\r\n\t\t\t\tlet dataList = this.dataList,\r\n\t\t\t\t\tcartId = [],\r\n\t\t\t\t\t_this = this;\r\n\t\t\t\tdataList.forEach(item => {\r\n\t\t\t\t\titem.cartList.forEach(e => {\r\n\t\t\t\t\t\tif (e.checked) {\r\n\t\t\t\t\t\t\tcartId.push(e.cartId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(cartId);\r\n\t\t\t\tif (cartId.length > 0) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '确定删除吗',\r\n\t\t\t\t\t\tcancelText: '取消',\r\n\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\tconfirmColor: '#ff4848',\r\n\t\t\t\t\t\ttitleColor: '#ff4848',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tlet parmas = {\r\n\t\t\t\t\t\t\t\t\tuid: uni.getStorageSync('uid'),\r\n\t\t\t\t\t\t\t\t\tcartIds: cartId\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t_this._reqw.ipost(parmas, 'delCart').then(res => {\r\n\t\t\t\t\t\t\t\t\tres.result == 0 ? (_this.$api.tip('删除成功!'), _this.initData(), _this.calcTotal()) : _this.$api.tip(res.resultNote);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\tconsole.log('取消');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$api.tip('请选择商品!');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinitData() {\r\n\t\t\t\tthis.dataList = [];\r\n\t\t\t\tthis.loadData();\r\n\t\t\t},\r\n\t\t\t//计算总价\r\n\t\t\tcalcTotal() {\r\n\t\t\t\tlet list = this.dataList;\r\n\t\t\t\tif (list.length === 0) {\r\n\t\t\t\t\tthis.empty = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet total = 0;\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\titem.cartList.forEach(e => {\r\n\t\t\t\t\t\tif (e.checked) {\r\n\t\t\t\t\t\t\tif (e.qty >= e.maxQty) {\r\n\t\t\t\t\t\t\t\ttotal += e.discount * e.qty;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttotal += e.price * e.qty;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tthis.total = this.$api.parsePrice(total);\r\n\t\t\t},\r\n\t\t\tformend(arry) {\r\n\t\t\t\tlet a = [];\r\n\t\t\t\tarry.forEach(item => {\r\n\t\t\t\t\tif (item.fee) {\r\n\t\t\t\t\t\titem.totalPrice = this.$api.parsePrice(item.totalPrice - 0 + (item.fee - 0));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item != 'empty') {\r\n\t\t\t\t\t\ta.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn a;\r\n\t\t\t},\r\n\t\t\t//创建订单\r\n\t\t\tcreateOrder() {\r\n\t\t\t\tlet list = this.dataList,\r\n\t\t\t\t\tarry = [],\r\n\t\t\t\t\tendArry = [],\r\n\t\t\t\t\tlen = 0;\r\n\t\t\t\tlist.forEach((item, index) => {\r\n\t\t\t\t\tlet num = 0,\r\n\t\t\t\t\t\ttotalPrice = 0,\r\n\t\t\t\t\t\tcartList = [],\r\n\t\t\t\t\t\tcartIds = [];\r\n\t\t\t\t\titem.cartList.forEach((e, k) => {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\r\n\t\t\t\t\t\tif (e.checked) {\r\n\t\t\t\t\t\t\tif (e.qty >= e.minQty) {\r\n\t\t\t\t\t\t\t\tthis.$set(cartList, k, e);\r\n\t\t\t\t\t\t\t\tthis.$set(cartIds, k, e.cartId);\r\n\t\t\t\t\t\t\t\tnum += e.qty - 0;\r\n\t\t\t\t\t\t\t\tif (e.qty >= e.maxQty) {\r\n\t\t\t\t\t\t\t\t\ttotalPrice += e.qty * (e.discount * 100);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttotalPrice += e.qty * (e.price * 100);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tarry[index] = {\r\n\t\t\t\t\t\t\t\t\tshopId: item.shopId,\r\n\t\t\t\t\t\t\t\t\tshopName: item.shopName,\r\n\t\t\t\t\t\t\t\t\tfee: this.$api.parsePrice(item.fee),\r\n\t\t\t\t\t\t\t\t\ttotalPrice: totalPrice / 100,\r\n\t\t\t\t\t\t\t\t\ttotalCount: num,\r\n\t\t\t\t\t\t\t\t\tcontent: '',\r\n\t\t\t\t\t\t\t\t\tcartIds: cartIds,\r\n\t\t\t\t\t\t\t\t\tcartList: this.formend(cartList)\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (this.active == 0) {\r\n\t\t\t\t\t\t\t\t\tlen += 1;\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: `第${index+1}下的第${k+1}个商品不满足最小购买数量`,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\tif (len == 0) {\r\n\t\t\t\t\tendArry = this.formend(arry);\r\n\t\t\t\t\tif (endArry.length != 0) {\r\n\t\t\t\t\t\tthis.$api.navTo(`/pagesD/order/finishOrder?good=${JSON.stringify(endArry)}&type=${this.active}&buyType=0`);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.tip('请选择商品!');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\t// this.dataList = [];\r\n\t\t\tthis.allChecked = false;\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.container {\r\n\t\tpadding-bottom: 180upx;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #f8f8f8;\r\n\t}\r\n\r\n\t.skuclass {\r\n\t\tfont-size: 12px;\r\n\t\tbackground: #edecf1;\r\n\t\tpadding: 3px 5px;\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.cart-item-title-top-text {\r\n\t\tmargin-left: 10upx;\r\n\t}\r\n\r\n\t.cart-item-title {\r\n\t\twidth: 95%;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t\tbackground: #ffffff;\r\n\t\tpadding: 8px;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.cart-top {\r\n\t\theight: 60px;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 0 15px;\r\n\t\ttext-align: right;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #ff4848;\r\n\t}\r\n\r\n\t.cart-top-main {\r\n\t\tdisplay: flex;\r\n\t\twidth: 30%;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tfont-size: 32upx;\r\n\t}\r\n\r\n\t.cart-top-main-item {\r\n\t\twidth: 40%;\r\n\t\tpadding: 10px 0;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.cart-top-active {\r\n\t\tborder-bottom: 4upx solid $page-color-light;\r\n\t}\r\n\r\n\t.cart-status {\r\n\t\tposition: absolute;\r\n\t\tright: 15px;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\r\n\t.cart-list {\r\n\t\tmargin-bottom: 20upx;\r\n\t}\r\n\r\n\t.cart-item {\r\n\t\twidth: 95%;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\tbackground: #ffffff;\r\n\t\tpadding: 8px;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.item-right-top {\r\n\t\tdisplay: flex;\r\n\t\tflex: 1;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.cart-item-title-top {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.bottom-width {\r\n\t\twidth: 100%;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n\r\n\t.item-end {\r\n\t\ttext-align: right;\r\n\t\tcolor: #ff4848;\r\n\t}\r\n\r\n\t.price {\r\n\t\tfont-size: 32upx;\r\n\t\tcolor: $page-color-light;\r\n\t}\r\n\r\n\t.cart-item-left {\r\n\t\t// width: 270upx;\r\n\t\t// height: 230upx;\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.product-img {\r\n\t\twidth: 90px;\r\n\t\theight: 90px;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\r\n\t.item-right {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t\tpadding-left: 20upx;\r\n\t}\r\n\r\n\t.title {\r\n\t\theight: 40upx;\r\n\t\tline-height: 40upx;\r\n\t\tflex: 1;\r\n\t\tcolor: #111111;\r\n\t}\r\n\r\n\t.del-btn {\r\n\t\tpadding: 4upx 10upx;\r\n\t\tfont-size: 34upx;\r\n\t\theight: 50upx;\r\n\t\tcolor: $font-color-light;\r\n\t}\r\n\r\n\t.icon-circle,\r\n\t.icon-xuanzhong {\r\n\t\tfont-size: 40upx;\r\n\t}\r\n\r\n\t/* 底部栏 */\r\n\t.action-section {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tz-index: 95;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 50px;\r\n\t\tpadding: 0 30upx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: rgba(255, 255, 255, 1);\r\n\r\n\t\t.checkbox {\r\n\t\t\theight: 52upx;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 52upx;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tz-index: 5;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.clear-btn {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 26upx;\r\n\t\t\ttop: 0;\r\n\t\t\tz-index: 4;\r\n\t\t\twidth: 0;\r\n\t\t\theight: 52upx;\r\n\t\t\tline-height: 52upx;\r\n\t\t\tpadding-left: 38upx;\r\n\t\t\tfont-size: $font-base;\r\n\t\t\tcolor: #fff;\r\n\t\t\tbackground: $font-color-disabled;\r\n\t\t\tborder-radius: 0 50px 50px 0;\r\n\t\t\topacity: 0;\r\n\t\t\ttransition: 0.2s;\r\n\r\n\t\t\t&.show {\r\n\t\t\t\topacity: 1;\r\n\t\t\t\twidth: 120upx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.total-box {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\ttext-align: right;\r\n\t\t\tpadding-right: 40upx;\r\n\r\n\t\t\t.price {\r\n\t\t\t\tfont-size: 30upx;\r\n\t\t\t\tcolor: $page-color-light;\r\n\t\t\t}\r\n\r\n\t\t\t.coupon {\r\n\t\t\t\tfont-size: $font-sm;\r\n\t\t\t\tcolor: $font-color-light;\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: $font-color-dark;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.confirm-btn {\r\n\t\t\tpadding: 0 38upx;\r\n\t\t\tmargin: 0;\r\n\t\t\tborder-radius: 100px;\r\n\t\t\theight: 60upx;\r\n\t\t\tline-height: 60upx;\r\n\t\t\tbackground: #ff4848;\r\n\t\t\tfont-size: 13px;\r\n\t\t}\r\n\r\n\t\t.del-btn {\r\n\t\t\tpadding: 0 38upx;\r\n\t\t\tmargin: 0;\r\n\t\t\tborder-radius: 100px;\r\n\t\t\theight: 60upx;\r\n\t\t\tline-height: 60upx;\r\n\t\t\tcolor: #ff4848;\r\n\t\t\tborder: 1px solid #ff4848;\r\n\t\t\tfont-size: 13px;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611275582345\n      var cssReload = require(\"D:/迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}