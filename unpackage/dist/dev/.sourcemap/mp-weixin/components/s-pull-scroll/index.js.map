{"version":3,"sources":["webpack:///D:/lixindom/2020/馨网购/xinwanggou/components/s-pull-scroll/index.vue?c218","webpack:///D:/lixindom/2020/馨网购/xinwanggou/components/s-pull-scroll/index.vue?a1b0","webpack:///D:/lixindom/2020/馨网购/xinwanggou/components/s-pull-scroll/index.vue?c663","webpack:///D:/lixindom/2020/馨网购/xinwanggou/components/s-pull-scroll/index.vue?8867","uni-app:///components/s-pull-scroll/index.vue","webpack:///D:/lixindom/2020/馨网购/xinwanggou/components/s-pull-scroll/index.vue?10f7","webpack:///D:/lixindom/2020/馨网购/xinwanggou/components/s-pull-scroll/index.vue?68b7"],"names":[],"mappings":"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AACA,oBAzJA;AA0JA;AACA;AACA,mBADA;AAEA,mBAFA,EA3JA;;AA+JA;AACA,kBADA;AAEA,kBAFA,EA/JA;;AAmKA;AACA,oBApKA;AAqKA;AACA;AACA,kBADA;AAEA,mBAFA,EAtKA,EA5CA;;;AAuNA;AACA,OADA,iBACA;AACA;AACA,KAHA;AAIA,UAJA,oBAIA;AACA;AACA,KANA;AAOA,gBAPA,0BAOA;AACA;AACA,KATA;AAUA,gBAVA,0BAUA;AACA;AACA,KAZA,EAvNA;;AAqOA;AACA,UADA,oBACA;AACA;AACA,KAHA;AAIA,aAJA,uBAIA;AACA;AACA,KANA;AAOA,oBAPA,8BAOA;AACA;AACA,KATA;AAUA,uBAVA,iCAUA;AACA;AACA,KAZA;AAaA,mBAbA,6BAaA;AACA;AACA,KAfA;AAgBA,iBAhBA,2BAgBA;AACA;AACA,KAlBA;AAmBA,eAnBA,yBAmBA;AACA;AACA,KArBA;AAsBA,YAtBA,sBAsBA;AACA;AACA,KAxBA;AAyBA,UAzBA,oBAyBA;AACA;AACA,KA3BA;AA4BA,eA5BA,yBA4BA;AACA;AACA,KA9BA;AA+BA,aA/BA,uBA+BA;AACA;AACA,KAjCA;AAkCA,cAlCA,wBAkCA;AACA;AACA,KApCA;AAqCA,cArCA,wBAqCA;AACA;AACA,KAvCA,EArOA;;AA8QA;AACA,UADA,kBACA,KADA,EACA;AACA;AACA,OADA;AAEA,KAJA;AAKA;AACA,UANA,kBAMA,CANA,EAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KA1BA;AA2BA;AACA,cA5BA,sBA4BA,CA5BA,EA4BA;AACA;AACA,yCAFA,CAEA;AACA,yCAHA,CAGA;AACA,uCAJA,CAIA;AACA,sEALA,CAKA;AACA,8BANA,CAMA;AACA,KAnCA;AAoCA;AACA,aArCA,qBAqCA,CArCA,EAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;;AAEA,6CAZA,CAYA;AACA,sCAbA,CAaA;;AAEA,iDAfA,CAeA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDADA,CACA;AACA,kDAFA,CAEA;AACA;;AAEA;AACA;AACA,mCADA,CACA;AACA,4BAFA,CAEA;AACA;AACA;;AAEA,iCAjBA,CAiBA;;AAEA,mDAnBA,CAmBA;;AAEA;AACA;AACA;AACA,gCADA,CACA;AACA;AACA,sCAHA,CAGA;AACA,uCAJA,CAIA;AACA,yCALA,CAKA;AACA,+CANA,CAMA;AACA,qCAPA,CAOA;AACA;AACA,2DAVA,CAUA;AACA;AACA,WAZA,MAYA;AACA;AACA,gCADA,CACA;AACA;AACA,sCAHA,CAGA;AACA,uCAJA,CAIA;AACA,yCALA,CAKA;AACA,+CANA,CAMA;AACA,qCAPA,CAOA;AACA;AACA;AACA,0EADA,CACA;AACA,aAFA,MAEA;AACA,qCADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlHA;AAmHA;AACA,YApHA,oBAoHA,CApHA,EAoHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,iCAHA,CAGA;AACA,kCAJA,CAIA;AACA,qCALA,CAKA;AACA;AACA;AACA;AACA,OAbA,MAaA;AACA,oEADA,CACA;AACA;AACA;AACA;AACA,KAzIA;AA0IA,kBA1IA,0BA0IA,CA1IA,EA0IA;AACA;AACA;AACA;AACA;AACA,KA/IA;AAgJA;AACA,aAjJA,uBAiJA;AACA,iCADA,CACA;AACA,uBAFA,CAEA;AACA,KApJA;AAqJA;AACA,kBAtJA,4BAsJA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA7JA;AA8JA,YA9JA,oBA8JA,CA9JA,EA8JA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAnKA;AAoKA;AACA,YArKA,oBAqKA,CArKA,EAqKA;AACA;AACA;AACA,cADA;AAEA,cAFA;;AAIA;AACA;AACA;AACA,+BADA;AAEA,+BAFA;;AAIA,OALA,MAKA;AACA;AACA,sCADA;AAEA,sCAFA;;AAIA,OALA,MAKA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA;AACA,KA5LA;AA6LA;AACA,mBA9LA,6BA8LA;AACA;AACA,KAhMA;AAiMA;AACA,mBAlMA,2BAkMA,MAlMA,EAkMA;AACA;AACA;AACA;AACA;AACA;AACA,KAxMA;AAyMA;AACA,uBA1MA,iCA0MA;AACA;AACA,2BADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,eAFA,EAEA,sBAFA;AAGA;AACA,WAVA,EAUA,IAVA;AAWA,SAZA;AAaA;AACA,KA3NA;AA4NA;AACA,mBA7NA,6BA6NA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAVA,CAUA;AACA,0CAXA,CAWA;AACA,6BAZA,CAYA;AACA,8BAbA,CAaA;AACA,2CAdA,CAcA;AACA,KA5OA;AA6OA;AACA,mBA9OA,6BA8OA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAFA,CAEA;AACA,oCAHA,CAGA;AACA;AACA,uCADA,CACA;AACA,2CAFA,CAEA;AACA;AACA,aAJA,EAIA,GAJA;AAKA,WATA,EASA,IATA;AAUA,SAXA,MAWA;AACA;AACA,kCAFA,CAEA;AACA,gCAHA,CAGA;AACA,iCAJA,CAIA;AACA,qCALA,CAKA;AACA;AACA;AACA;AACA,KA3QA;AA4QA;AACA,iBA7QA,2BA6QA;AACA;AACA;AACA;AACA;AACA,KAlRA;AAmRA;AACA,iBApRA,2BAoRA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,KA1RA;AA2RA;AACA,mBA5RA,6BA4RA;AACA;AACA;AACA,+BAFA,CAEA;AACA,sBAHA,CAGA;AACA;AACA;AACA;AACA,KApSA;AAqSA;AACA,iBAtSA,yBAsSA,OAtSA,EAsSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlTA;AAmTA,WAnTA,qBAmTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnUA;AAoUA;AACA,WArUA,qBAqUA;AACA;AACA;AACA;AACA;AACA;AACA,KA3UA;AA4UA;AACA,SA7UA,mBA6UA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KAxVA;AAyVA;AACA,SA1VA,mBA0VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlWA;AAmWA;AACA,UApWA,oBAoWA;AACA;AACA;AACA;AACA,KAxWA,EA9QA;;AAwnBA,SAxnBA,qBAwnBA;AACA;AACA;AACA;AACA,4DADA,CACA;AACA,qEAFA,CAEA;AACA,6CAHA,CAGA;AACA,OALA;;AAOA,GAjoBA;AAkoBA,SAloBA,qBAkoBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAFA;AAGA,GA3oBA;AA4oBA,eA5oBA,2BA4oBA;AACA;AACA,GA9oBA,E;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAA0sC,CAAgB,yjCAAG,EAAC,C;;;;;;;;;;;ACA9tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/s-pull-scroll/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5d568cd3&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/s-pull-scroll/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5d568cd3&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.isEmpty && _vm.showEmpty ? require(\"./empty.png\") : null\n  var m1 = _vm.backTop ? require(\"./back-top.png\") : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"s-pull-scroll\" :class=\"customClass\">\r\n\t\t<scroll-view :id=\"scrollId\" class=\"s-pull-scroll-view\" :class=\"{'is-fixed':fixed}\" :style=\"{'padding-top':padTop,'padding-bottom':padBottom,'top':fixedTop,'bottom':fixedBottom}\"\r\n\t\t :scroll-top=\"scrollTop\" :scroll-with-animation=\"false\" :scroll-y=\"scrollAble\" :enable-back-to-top=\"true\" @scroll=\"scroll\"\r\n\t\t @touchstart=\"touchstart\" @touchmove=\"touchmove\" @touchend=\"touchend\" @touchcancel=\"touchend\">\r\n\t\t\t<view :style=\"{'transform': translateY, 'transition': transition}\">\r\n\t\t\t\t<view class=\"s-pull-down-wrap\" :class=\"[{'is-success': isShowDownTip && isDownSuccess},{'is-error': isShowDownTip && isDownError}]\"\r\n\t\t\t\t :style=\"{'height':downOffset+'rpx'}\">\r\n\t\t\t\t\t<view class=\"s-pull-loading-icon\" v-if=\"!isShowDownTip\" :class=\"{'s-pull-loading-rotate':isDownLoading}\" :style=\"{'transform':downRotate}\"></view>\r\n\t\t\t\t\t<view>{{downText}}</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<slot></slot>\r\n\r\n\t\t\t\t<view v-if=\"isUpLoading\" class=\"s-pull-up-wrap\">\r\n\t\t\t\t\t<view class=\"s-pull-loading-icon s-pull-loading-rotate\"></view>\r\n\t\t\t\t\t<view>{{upLoadingText}}</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<slot name=\"empty\" v-if=\"isEmpty && showEmpty\">\r\n\t\t\t\t\t<view class=\"uni-flex\" style=\"width: 100%;justify-content: center;align-items: center;\">\r\n\t\t\t\t\t\t<img src=\"./empty.png\" class=\"empty-img\"></img>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"s-pull-tip-wrap\" v-if=\"emptyText\">{{emptyText}}</view>\r\n\t\t\t\t</slot>\r\n\r\n\t\t\t\t<slot name=\"up-error\" v-else-if=\"isUpError && showUpError\">\r\n\t\t\t\t\t<view class=\"s-pull-tip-wrap\" v-if=\"upErrorText\" @click=\"onUpErrorClick\">{{upErrorText}}</view>\r\n\t\t\t\t</slot>\r\n\t\t\t\t<slot name=\"up-finish\" v-else-if=\"isUpFinish && showUpFinish\">\r\n\t\t\t\t\t<view class=\"s-pull-tip-wrap\" v-if=\"upFinishText\">{{upFinishText}}</view>\r\n\t\t\t\t</slot>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!-- 回到顶部按钮 (fixed元素,需写在scroll-view外面,防止滚动的时候抖动)-->\r\n\t\t<view class=\"s-pull-back-top\" v-if=\"backTop\" :class=\"{'is-show':isShowBackTop}\" @click=\"onBackTop\">\r\n\t\t\t<slot name=\"backtop\">\r\n\t\t\t\t<view class=\"default-back-top\">\r\n\t\t\t\t\t<img src=\"./back-top.png\" />\r\n\t\t\t\t</view>\r\n\t\t\t</slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 's-pull-scroll',\r\n\t\tdata() {\r\n\t\t\tObject.assign(this, {\r\n\t\t\t\tpullType: '',\r\n\t\t\t\tscrollRealTop: 0, // 滚动条的位置\r\n\t\t\t\tpreScrollY: 0,\r\n\t\t\t\tclientNum: 0,\r\n\t\t\t\tisExec: false,\r\n\t\t\t\tscrollHeight: 0,\r\n\t\t\t\tclientHeight: 0,\r\n\t\t\t\tbodyHeight: 0,\r\n\t\t\t\twindowTop: 0, // 可使用窗口的顶部位置\r\n\t\t\t\twindowBottom: 0, // 可使用窗口的底部位置\r\n\t\t\t\tpage: 0,\r\n\t\t\t\tstartPoint: null,\r\n\t\t\t\tlastPoint: null,\r\n\t\t\t\tstartTop: 0,\r\n\t\t\t\tmaxTouchmoveY: 0,\r\n\t\t\t\tinTouchend: false,\r\n\t\t\t\tmoveTime: 0,\r\n\t\t\t\tmoveTimeDiff: 0,\r\n\t\t\t\tmovetype: 0,\r\n\t\t\t\tisMoveDown: false\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\tscrollId: 's-pull-scroll-view-id-' + Math.random().toString(36).substr(2), // 随机生成mescroll的id(不能数字开头,否则找不到元素)\r\n\t\t\t\tdownHight: 0, // 下拉刷新: 容器高度\r\n\t\t\t\tdownRotate: 0, // 下拉刷新: 圆形进度条旋转的角度\r\n\t\t\t\tdownText: '', // 下拉刷新: 提示的文本\r\n\t\t\t\tisEmpty: false, // 是否显示空布局\r\n\t\t\t\tisShowDownTip: false, // 下拉刷新提示结果\r\n\t\t\t\tisDownSuccess: false, // 下拉刷新成功\r\n\t\t\t\tisDownError: false, // 下拉刷新失败\r\n\t\t\t\tisDownReset: false, // 下拉刷新: 是否显示重置的过渡动画\r\n\t\t\t\tisDownLoading: false, // 下拉刷新: 是否显示加载中\r\n\t\t\t\tisUpLoading: false, // 上拉加载: 是否显示 \"加载中...\"\r\n\t\t\t\tisUpFinish: false, // 是否加载完毕\r\n\t\t\t\tisUpError: false, // 是否上拉加载出错\r\n\t\t\t\tisShowBackTop: false, // 是否显示回到顶部按钮\r\n\t\t\t\tscrollAble: true, // 是否禁止下滑 (下拉时禁止,避免抖动)\r\n\t\t\t\tscrollTop: 0 // 滚动条的位置\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\t// class\r\n\t\t\tcustomClass: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// 是否通过fixed固定高度, 默认true\r\n\t\t\tfixed: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 自定义头部时，头部高度(px)\r\n\t\t\t// uni.getSystemInfoSync()['statusBarHeight'] + 54\r\n\t\t\theaderHeight: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 距顶部(rpx)\r\n\t\t\ttop: {\r\n\t\t\t\ttype: [Number, Array, String],\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 自定义底部时，底部高度(px)\r\n\t\t\tfooterHeight: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 距底部(rpx)\r\n\t\t\tbottom: {\r\n\t\t\t\ttype: [Number, Array, String],\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 是否阻止默认滚动\r\n\t\t\tpreventTouchmove: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 下拉时文案\r\n\t\t\tpullingText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '下拉刷新'\r\n\t\t\t},\r\n\t\t\t// 下拉释放时文案\r\n\t\t\tloosingText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '释放刷新'\r\n\t\t\t},\r\n\t\t\t// 下拉释放后文案\r\n\t\t\tdownLoadingText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '正在刷新 ...'\r\n\t\t\t},\r\n\t\t\t// 上拉加载时文案\r\n\t\t\tupLoadingText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '加载中 ...'\r\n\t\t\t},\r\n\t\t\t// 是否显示空布局\r\n\t\t\tshowEmpty: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 刷新或加载数据为空时文案\r\n\t\t\temptyText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '没有数据哦 ^_^'\r\n\t\t\t},\r\n\t\t\t// 是否显示下拉刷新成功\r\n\t\t\tshowDownSuccess: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t// 下拉刷新成功文案\r\n\t\t\tdownSuccessText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '刷新成功'\r\n\t\t\t},\r\n\t\t\t// 是否显示下拉刷新失败\r\n\t\t\tshowDownError: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t// 下拉刷新失败文案\r\n\t\t\tdownErrorText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '刷新失败'\r\n\t\t\t},\r\n\t\t\t// 是否显示上拉加载时失败\r\n\t\t\tshowUpError: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 上拉加载失败文案\r\n\t\t\tupErrorText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '加载失败，点击重新加载'\r\n\t\t\t},\r\n\t\t\t// 是否显示上拉加载数据全部完成\r\n\t\t\tshowUpFinish: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t// 上拉加载完毕文案\r\n\t\t\tupFinishText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '已经到底了~'\r\n\t\t\t},\r\n\t\t\t// 下拉配置\r\n\t\t\t// 下拉回掉，参数为vm\r\n\t\t\tpullDown: Function,\r\n\t\t\t// 是否允许下拉刷新\r\n\t\t\tenablePullDown: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tdownOffset: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 100\r\n\t\t\t},\r\n\t\t\tdownFps: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 40\r\n\t\t\t},\r\n\t\t\tdownMinAngle: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 45\r\n\t\t\t},\r\n\t\t\tdownInOffsetRate: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1\r\n\t\t\t},\r\n\t\t\tdownOutOffsetRate: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0.4\r\n\t\t\t},\r\n\t\t\tdownStartTop: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 100\r\n\t\t\t},\r\n\t\t\tdownBottomOffset: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 20\r\n\t\t\t},\r\n\t\t\t// 上拉配置\r\n\t\t\t// 上拉回掉，参数为vm\r\n\t\t\tpullUp: Function,\r\n\t\t\t// 是否允许上拉加载\r\n\t\t\tenablePullUp: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tupOffset: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 160\r\n\t\t\t},\r\n\t\t\t// 回到顶部\r\n\t\t\tbackTop: Boolean,\r\n\t\t\t// 滚动距离大于多少rpx时触发\r\n\t\t\tbackTopOffset: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 1000\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\ttop() {\r\n\t\t\t\tthis.refreshClientHeight();\r\n\t\t\t},\r\n\t\t\tbottom() {\r\n\t\t\t\tthis.refreshClientHeight();\r\n\t\t\t},\r\n\t\t\theaderHeight() {\r\n\t\t\t\tthis.refreshClientHeight();\r\n\t\t\t},\r\n\t\t\tfooterHeight() {\r\n\t\t\t\tthis.refreshClientHeight();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tnumTop() {\r\n\t\t\t\treturn Number(this.headerHeight || 0) + this.upx2px(this.top);\r\n\t\t\t},\r\n\t\t\tnumBottom() {\r\n\t\t\t\treturn Number(this.footerHeight || 0) + this.upx2px(this.bottom);\r\n\t\t\t},\r\n\t\t\tnumBackTopOffset() {\r\n\t\t\t\treturn this.upx2px(this.backTopOffset);\r\n\t\t\t},\r\n\t\t\tnumDownBottomOffset() {\r\n\t\t\t\treturn this.upx2px(this.downBottomOffset);\r\n\t\t\t},\r\n\t\t\tnumDownStartTop() {\r\n\t\t\t\treturn this.upx2px(this.downStartTop);\r\n\t\t\t},\r\n\t\t\tnumDownOffset() {\r\n\t\t\t\treturn this.upx2px(this.downOffset);\r\n\t\t\t},\r\n\t\t\tnumUpOffset() {\r\n\t\t\t\treturn this.upx2px(this.upOffset);\r\n\t\t\t},\r\n\t\t\tfixedTop() {\r\n\t\t\t\treturn this.fixed ? (this.numTop + this.windowTop) + 'px' : 0;\r\n\t\t\t},\r\n\t\t\tpadTop() {\r\n\t\t\t\treturn !this.fixed ? this.numTop + 'px' : 0;\r\n\t\t\t},\r\n\t\t\tfixedBottom() {\r\n\t\t\t\treturn this.fixed ? (this.numBottom + this.windowBottom) + 'px' : 0;\r\n\t\t\t},\r\n\t\t\tpadBottom() {\r\n\t\t\t\treturn !this.fixed ? this.numBottom + 'px' : 0;\r\n\t\t\t},\r\n\t\t\ttransition() {\r\n\t\t\t\treturn this.isDownReset ? 'transform 300ms' : '';\r\n\t\t\t},\r\n\t\t\ttranslateY() {\r\n\t\t\t\treturn this.downHight > 0 ? 'translateY(' + this.downHight + 'px)' : '';\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tupx2px(value) {\r\n\t\t\t\treturn (Array.isArray(value) ? value : [value]).map(num => uni.upx2px(Number(num || 0))).reduce((a, b) => a + b) ||\r\n\t\t\t\t\t0;\r\n\t\t\t},\r\n\t\t\t// 注册列表滚动事件,用于下拉刷新\r\n\t\t\tscroll(e) {\r\n\t\t\t\te = e.detail;\r\n\t\t\t\t// 更新滚动条的位置\r\n\t\t\t\tthis.scrollRealTop = e.scrollTop;\r\n\t\t\t\t// 更新滚动内容高度\r\n\t\t\t\tthis.scrollHeight = e.scrollHeight;\r\n\t\t\t\t// 向上滑还是向下滑动\r\n\t\t\t\tconst isScrollUp = e.scrollTop - this.preScrollY > 0;\r\n\t\t\t\tthis.preScrollY = e.scrollTop;\r\n\t\t\t\t// 上滑 && 检查并触发上拉\r\n\t\t\t\tisScrollUp && this.triggerPullUp(true);\r\n\t\t\t\t// 回到顶部功能\r\n\t\t\t\tif (this.backTop) {\r\n\t\t\t\t\t// 返回顶部按钮的显示隐藏\r\n\t\t\t\t\tif (e.scrollTop >= this.numBackTopOffset) {\r\n\t\t\t\t\t\tthis.isShowBackTop = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.isShowBackTop = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 注册列表touchstart事件,用于下拉刷新\r\n\t\t\ttouchstart(e) {\r\n\t\t\t\tif (!this.pullDown || !this.enablePullDown) return;\r\n\t\t\t\tthis.startPoint = this.getPoint(e); // 记录起点\r\n\t\t\t\tthis.startTop = this.scrollRealTop; // 记录此时的滚动条位置\r\n\t\t\t\tthis.lastPoint = this.startPoint; // 重置上次move的点\r\n\t\t\t\tthis.maxTouchmoveY = this.bodyHeight - this.numDownBottomOffset; // 手指触摸的最大范围(写在touchstart避免body获取高度为0的情况)\r\n\t\t\t\tthis.inTouchend = false; // 标记不是touchend\r\n\t\t\t},\r\n\t\t\t// 注册列表touchmove事件,用于下拉刷新\r\n\t\t\ttouchmove(e) {\r\n\t\t\t\tif (!this.pullDown || !this.enablePullDown) return;\r\n\t\t\t\tif (!this.startPoint) return;\r\n\t\t\t\t// 节流\r\n\t\t\t\tconst t = Date.now();\r\n\t\t\t\tif (this.moveTime && t - this.moveTime < this.moveTimeDiff) { // 小于节流时间,则不处理\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.moveTime = t;\r\n\t\t\t\t\tthis.moveTimeDiff = 1000 / this.downFps;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet scrollRealTop = this.scrollRealTop; // 当前滚动条的距离\r\n\t\t\t\tlet curPoint = this.getPoint(e); // 当前点\r\n\r\n\t\t\t\tlet moveY = curPoint.y - this.startPoint.y; // 和起点比,移动的距离,大于0向下拉,小于0向上拉\r\n\r\n\t\t\t\t// (向下拉&&在顶部) scroll-view在滚动时不会触发touchmove,当触顶/底/左/右时,才会触发touchmove\r\n\t\t\t\t// scroll-view滚动到顶部时,scrollTop不一定为0; 在iOS的APP中scrollTop可能为负数,不一定和startTop相等\r\n\t\t\t\tif (moveY > 0 && (scrollRealTop <= 0 || (scrollRealTop <= this.numDownStartTop && scrollRealTop === this.startTop))) {\r\n\t\t\t\t\t// 可下拉的条件\r\n\t\t\t\t\tif (this.pullDown && this.enablePullDown && !this.inTouchend && !this.isDownLoading && !this.isUpLoading) {\r\n\t\t\t\t\t\t// 下拉的角度是否在配置的范围内\r\n\t\t\t\t\t\tlet x = Math.abs(this.lastPoint.x - curPoint.x);\r\n\t\t\t\t\t\tlet y = Math.abs(this.lastPoint.y - curPoint.y);\r\n\t\t\t\t\t\tlet z = Math.sqrt(x * x + y * y);\r\n\t\t\t\t\t\tif (z !== 0) {\r\n\t\t\t\t\t\t\tlet angle = Math.asin(y / z) / Math.PI * 180; // 两点之间的角度,区间 [0,90]\r\n\t\t\t\t\t\t\tif (angle < this.downMinAngle) return; // 如果小于配置的角度,则不往下执行下拉刷新\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 如果手指的位置超过配置的距离,则提前结束下拉,避免Webview嵌套导致touchend无法触发\r\n\t\t\t\t\t\tif (this.maxTouchmoveY > 0 && curPoint.y >= this.maxTouchmoveY) {\r\n\t\t\t\t\t\t\tthis.inTouchend = true; // 标记执行touchend\r\n\t\t\t\t\t\t\tthis.touchend(); // 提前触发touchend\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.preventDefault(e); // 阻止默认事件\r\n\r\n\t\t\t\t\t\tlet diff = curPoint.y - this.lastPoint.y; // 和上次比,移动的距离 (大于0向下,小于0向上)\r\n\r\n\t\t\t\t\t\t// 下拉距离  < 指定距离\r\n\t\t\t\t\t\tif (this.downHight < this.numDownOffset) {\r\n\t\t\t\t\t\t\tif (this.movetype !== 1) {\r\n\t\t\t\t\t\t\t\tthis.movetype = 1; // 加入标记,保证只执行一次\r\n\t\t\t\t\t\t\t\t// 下拉的距离进入offset范围内那一刻的回调\r\n\t\t\t\t\t\t\t\tthis.scrollAble = false; // 禁止下拉,避免抖动\r\n\t\t\t\t\t\t\t\tthis.isDownReset = false; // 不重置高度\r\n\t\t\t\t\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\t\t\t\t\tthis.downText = this.pullingText; // 设置文本\r\n\t\t\t\t\t\t\t\tthis.isMoveDown = true; // 标记下拉区域高度改变,在touchend重置回来\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.downHight += diff * this.downInOffsetRate; // 越往下,高度变化越小\r\n\t\t\t\t\t\t\t// 指定距离  <= 下拉距离\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this.movetype !== 2) {\r\n\t\t\t\t\t\t\t\tthis.movetype = 2; // 加入标记,保证只执行一次\r\n\t\t\t\t\t\t\t\t// 下拉的距离大于offset那一刻的回调\r\n\t\t\t\t\t\t\t\tthis.scrollAble = false; // 禁止下拉,避免抖动\r\n\t\t\t\t\t\t\t\tthis.isDownReset = false; // 不重置高度\r\n\t\t\t\t\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\t\t\t\t\tthis.downText = this.loosingText; // 设置文本\r\n\t\t\t\t\t\t\t\tthis.isMoveDown = true; // 标记下拉区域高度改变,在touchend重置回来\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (diff > 0) { // 向下拉\r\n\t\t\t\t\t\t\t\tthis.downHight += Math.round(diff * this.downOutOffsetRate); // 越往下,高度变化越小\r\n\t\t\t\t\t\t\t} else { // 向上收\r\n\t\t\t\t\t\t\t\tthis.downHight += diff; // 向上收回高度,则向上滑多少收多少高度\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// 设置旋转角度\r\n\t\t\t\t\t\tthis.downRotate = 'rotate(' + 360 * (this.downHight / this.numDownOffset) + 'deg)';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// 记录本次移动的点\r\n\t\t\t\tthis.lastPoint = curPoint;\r\n\t\t\t},\r\n\t\t\t// 注册列表touchend事件,用于下拉刷新\r\n\t\t\ttouchend(e) {\r\n\t\t\t\tif (!this.pullDown || !this.enablePullDown) return;\r\n\t\t\t\t// 如果下拉区域高度已改变,则需重置回来\r\n\t\t\t\tif (this.isMoveDown) {\r\n\t\t\t\t\tif (this.downHight >= this.numDownOffset) {\r\n\t\t\t\t\t\t// 符合触发刷新的条件\r\n\t\t\t\t\t\tthis.triggerPullDown();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 不符合的话 则重置\r\n\t\t\t\t\t\tthis.downHight = 0;\r\n\t\t\t\t\t\tthis.scrollAble = true; // 开启下拉\r\n\t\t\t\t\t\tthis.isDownReset = true; // 重置高度\r\n\t\t\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.movetype = 0;\r\n\t\t\t\t\tthis.isMoveDown = false;\r\n\t\t\t\t} else if (this.scrollRealTop === this.startTop) { // 到顶/左/右/底的滑动事件\r\n\t\t\t\t\tconst isScrollUp = this.getPoint(e).y - this.startPoint.y < 0; // 和起点比,移动的距离,大于0向下拉,小于0向上拉\r\n\t\t\t\t\t// 上滑 && 检查并触发上拉\r\n\t\t\t\t\tisScrollUp && this.triggerPullUp(true);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpreventDefault(e) {\r\n\t\t\t\t// 小程序不支持e.preventDefault\r\n\t\t\t\t// app的bounce只能通过配置pages.json的style.app-plus.bounce为\"none\"来禁止\r\n\t\t\t\t// cancelable:是否可以被禁用; defaultPrevented:是否已经被禁用\r\n\t\t\t\tif (e && e.cancelable && !e.defaultPrevented) e.preventDefault();\r\n\t\t\t},\r\n\t\t\t// 点击回到顶部的按钮回调\r\n\t\t\tonBackTop() {\r\n\t\t\t\tthis.isShowBackTop = false; // 回到顶部按钮需要先隐藏,再执行回到顶部,避免闪动\r\n\t\t\t\tthis.scrollTo(0); // 执行回到顶部\r\n\t\t\t},\r\n\t\t\t// 点击失败重新加载\r\n\t\t\tonUpErrorClick() {\r\n\t\t\t\tthis.isUpError = false;\r\n\t\t\t\tif (this.pullType === 'down') {\r\n\t\t\t\t\tthis.triggerPullDown();\r\n\t\t\t\t} else if (this.pullType === 'up') {\r\n\t\t\t\t\tthis.triggerPullUp();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollTo(y) {\r\n\t\t\t\tthis.scrollTop = this.scrollRealTop;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.scrollTop = y;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t/* 根据点击滑动事件获取第一个手指的坐标 */\r\n\t\t\tgetPoint(e) {\r\n\t\t\t\tif (!e) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\ty: 0\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif (e.touches && e.touches[0]) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: e.touches[0].pageX,\r\n\t\t\t\t\t\ty: e.touches[0].pageY\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if (e.changedTouches && e.changedTouches[0]) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: e.changedTouches[0].pageX,\r\n\t\t\t\t\t\ty: e.changedTouches[0].pageY\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tx: e.clientX,\r\n\t\t\t\t\t\ty: e.clientY\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 滚动条到底部的距离 */\r\n\t\t\tgetScrollBottom() {\r\n\t\t\t\treturn this.scrollHeight - this.getClientHeight() - this.scrollRealTop;\r\n\t\t\t},\r\n\t\t\t/* 滚动容器的高度 */\r\n\t\t\tgetClientHeight(isReal) {\r\n\t\t\t\tlet h = this.clientHeight || 0;\r\n\t\t\t\tif (h === 0 && isReal !== true) { // 未获取到容器的高度,可临时取body的高度 (可能会有误差)\r\n\t\t\t\t\th = this.bodyHeight;\r\n\t\t\t\t}\r\n\t\t\t\treturn h;\r\n\t\t\t},\r\n\t\t\t/* 更新滚动区域的高度 (使内容不满屏和到底,都可继续翻页) */\r\n\t\t\trefreshClientHeight() {\r\n\t\t\t\tif (!this.isExec) {\r\n\t\t\t\t\tthis.isExec = true; // 避免多次获取\r\n\t\t\t\t\tthis.$nextTick(() => { // 确保dom已渲染\r\n\t\t\t\t\t\tuni.createSelectorQuery().in(this).select('#' + this.scrollId).boundingClientRect(data => {\r\n\t\t\t\t\t\t\tthis.isExec = false;\r\n\t\t\t\t\t\t\tif (data) {\r\n\t\t\t\t\t\t\t\tthis.clientHeight = data.height;\r\n\t\t\t\t\t\t\t} else if (this.clientNum != 3) { // 极少部分情况,可能dom还未渲染完毕,递归获取,最多重试3次\r\n\t\t\t\t\t\t\t\tthis.clientNum = this.clientNum == 0 ? 1 : this.clientNum + 1;\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tthis.refreshClientHeight();\r\n\t\t\t\t\t\t\t\t}, this.clientNum * 100);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).exec();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 显示下拉进度布局 */\r\n\t\t\tshowDownLoading() {\r\n\t\t\t\tthis.isEmpty = false;\r\n\r\n\t\t\t\tthis.isUpLoading = false;\r\n\t\t\t\tthis.isUpError = false;\r\n\t\t\t\tthis.isUpFinish = false;\r\n\r\n\t\t\t\tthis.isShowDownTip = false;\r\n\t\t\t\tthis.isDownSuccess = false;\r\n\t\t\t\tthis.isDownError = false;\r\n\t\t\t\tthis.isDownLoading = true; // 显示加载中\r\n\t\t\t\tthis.downHight = this.numDownOffset; // 更新下拉区域高度\r\n\t\t\t\tthis.scrollAble = true; // 开启下拉\r\n\t\t\t\tthis.isDownReset = true; // 重置高度\r\n\t\t\t\tthis.downText = this.downLoadingText; // 设置文本\r\n\t\t\t},\r\n\t\t\t/* 结束下拉刷新 */\r\n\t\t\thideDownLoading() {\r\n\t\t\t\tif (this.isDownLoading) {\r\n\t\t\t\t\tif (this.isDownSuccess && this.showDownSuccess) {\r\n\t\t\t\t\t\tthis.downText = this.downSuccessText;\r\n\t\t\t\t\t\tthis.isShowDownTip = true;\r\n\t\t\t\t\t} else if (this.isDownError && this.showDownError) {\r\n\t\t\t\t\t\tthis.downText = this.downErrorText;\r\n\t\t\t\t\t\tthis.isShowDownTip = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.isShowDownTip) {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.downHight = 0;\r\n\t\t\t\t\t\t\tthis.isDownReset = true; // 重置高度\r\n\t\t\t\t\t\t\tthis.scrollHeight = 0; // 重置滚动区域,使数据不满屏时仍可检查触发翻页\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.scrollAble = true; // 开启下拉\r\n\t\t\t\t\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\t\t\t\t\tthis.isShowDownTip = false;\r\n\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.downHight = 0;\r\n\t\t\t\t\t\tthis.isDownReset = true; // 重置高度\r\n\t\t\t\t\t\tthis.scrollHeight = 0; // 重置滚动区域,使数据不满屏时仍可检查触发翻页\r\n\t\t\t\t\t\tthis.scrollAble = true; // 开启下拉\r\n\t\t\t\t\t\tthis.isDownLoading = false; // 不显示加载中\r\n\t\t\t\t\t\tthis.isShowDownTip = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 显示上拉加载中 */\r\n\t\t\tshowUpLoading() {\r\n\t\t\t\tthis.isEmpty = false;\r\n\t\t\t\tthis.isUpError = false;\r\n\t\t\t\tthis.isUpFinish = false;\r\n\t\t\t\tthis.isUpLoading = true;\r\n\t\t\t},\r\n\t\t\t/* 结束上拉加载 */\r\n\t\t\thideUpLoading() {\r\n\t\t\t\tif (this.isUpLoading) {\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.isUpLoading = false;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 触发下拉刷新 */\r\n\t\t\ttriggerPullDown() {\r\n\t\t\t\tif (this.pullDown && this.enablePullDown && !this.isDownLoading && !this.isUpLoading) {\r\n\t\t\t\t\t// 下拉加载中...\r\n\t\t\t\t\tthis.showDownLoading(); // 下拉刷新中...\r\n\t\t\t\t\tthis.page = 1; // 预先加一页\r\n\t\t\t\t\tthis.pullType = 'down';\r\n\t\t\t\t\tthis.pullDown && this.pullDown.call(this.$parent, this);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 触发上拉加载 */\r\n\t\t\ttriggerPullUp(isCheck) {\r\n\t\t\t\tif (this.pullUp && this.enablePullUp && !this.isUpLoading && !this.isDownLoading && !this.isUpError && !this.isUpFinish) {\r\n\t\t\t\t\t// 是否校验在底部; 默认不校验\r\n\t\t\t\t\tif (isCheck && this.getScrollBottom() > this.numUpOffset) return;\r\n\t\t\t\t\t// 上拉加载中...\r\n\t\t\t\t\tthis.showUpLoading();\r\n\t\t\t\t\tthis.page++;\r\n\t\t\t\t\tthis.pullType = 'up';\r\n\t\t\t\t\tthis.pullUp && this.pullUp.call(this.$parent, this);\r\n\t\t\t\t\t// 更新容器的高度\r\n\t\t\t\t\tthis.refreshClientHeight();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trefresh() {\r\n\t\t\t\tthis.page = 0;\r\n\t\t\t\tthis.isEmpty = false;\r\n\t\t\t\tthis.isDownSuccess = false;\r\n\t\t\t\tthis.isDownError = false;\r\n\t\t\t\tthis.isShowDownTip = false;\r\n\t\t\t\tthis.isUpError = false;\r\n\t\t\t\tthis.isUpFinish = false;\r\n\t\t\t\tthis.isDownLoading = false;\r\n\t\t\t\tthis.isUpLoading = false;\r\n\t\t\t\tthis.scrollTo(0);\r\n\t\t\t\tif (this.pullDown && this.enablePullDown) {\r\n\t\t\t\t\tthis.triggerPullDown();\r\n\t\t\t\t} else if (this.pullUp && this.enablePullUp) {\r\n\t\t\t\t\tthis.triggerPullUp();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/* 正常加载成功 */\r\n\t\t\tsuccess() {\r\n\t\t\t\tif (this.isDownLoading) {\r\n\t\t\t\t\tthis.isDownSuccess = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.hideDownLoading();\r\n\t\t\t\tthis.hideUpLoading();\r\n\t\t\t},\r\n\t\t\t/* 加载失败 */\r\n\t\t\terror() {\r\n\t\t\t\tif (this.page > 0) {\r\n\t\t\t\t\tthis.page--;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.isDownLoading) {\r\n\t\t\t\t\tthis.isDownError = true;\r\n\t\t\t\t} else if (this.isUpLoading) {\r\n\t\t\t\t\tthis.isUpError = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.hideDownLoading();\r\n\t\t\t\tthis.hideUpLoading();\r\n\t\t\t},\r\n\t\t\t/* 没有数据 */\r\n\t\t\tempty() {\r\n\t\t\t\tif (this.isDownLoading) {\r\n\t\t\t\t\tthis.isDownSuccess = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.isEmpty = true;\r\n\t\t\t\tthis.isUpFinish = true;\r\n\t\t\t\tthis.hideDownLoading();\r\n\t\t\t\tthis.hideUpLoading();\r\n\t\t\t},\r\n\t\t\t/* 全部数据加载完毕 */\r\n\t\t\tfinish() {\r\n\t\t\t\tthis.hideDownLoading();\r\n\t\t\t\tthis.hideUpLoading();\r\n\t\t\t\tthis.isUpFinish = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 设置高度\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.windowTop) this.windowTop = res.windowTop; // 修正app和H5的top值\r\n\t\t\t\t\tif (res.windowBottom) this.windowBottom = res.windowBottom; // 修正app和H5的bottom值\r\n\t\t\t\t\tthis.bodyHeight = res.windowHeight; // 使down的bottomOffset生效\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 设置容器的高度\r\n\t\t\tthis.refreshClientHeight = this.refreshClientHeight.bind(this);\r\n\t\t\tuni.onWindowResize(this.refreshClientHeight);\r\n\t\t\tthis.refreshClientHeight();\r\n\r\n\t\t\tthis.$el && this.$el.addEventListener && this.$el.addEventListener('touchmove', e => {\r\n\t\t\t\tthis.preventTouchmove && e.preventDefault();\r\n\t\t\t});\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tuni.offWindowResize(this.refreshClientHeight);\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.empty-img{\r\n\t\twidth: 200upx;\r\n\t\theight: 200upx;\r\n\t\tmargin-top: 200upx;\r\n\t}\r\n\t.s-pull-scroll {\r\n\t\theight: 100%;\r\n\t\t-webkit-overflow-scrolling: touch;\r\n\r\n\t\t.s-pull-scroll-view {\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\toverflow-y: auto;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t}\r\n\r\n\t\t/* 定位的方式固定高度 */\r\n\t\t.is-fixed {\r\n\t\t\tz-index: 1;\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: auto;\r\n\t\t\theight: auto;\r\n\t\t}\r\n\r\n\t\t.s-pull-down-wrap,\r\n\t\t.s-pull-up-wrap,\r\n\t\t.s-pull-tip-wrap {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #969799;\r\n\t\t}\r\n\r\n\t\t.s-pull-down-wrap {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\ttransform: translateY(-100%);\r\n\t\t}\r\n\r\n\t\t.s-pull-up-wrap,\r\n\t\t.s-pull-tip-wrap {\r\n\t\t\theight: 100rpx;\r\n\t\t}\r\n\r\n\t\t/* 旋转loading */\r\n\t\t.s-pull-loading-icon {\r\n\t\t\twidth: 30rpx;\r\n\t\t\theight: 30rpx;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tvertical-align: middle;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: 2rpx solid #969799;\r\n\t\t\tborder-bottom-color: transparent;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t&:first-child {\r\n\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 旋转动画 */\r\n\t\t.s-pull-loading-rotate {\r\n\t\t\tanimation: s-pull-loading-rotate 0.6s linear infinite;\r\n\t\t}\r\n\r\n\t\t@keyframes s-pull-loading-rotate {\r\n\t\t\t0% {\r\n\t\t\t\ttransform: rotate(0deg);\r\n\t\t\t}\r\n\r\n\t\t\t100% {\r\n\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 回到顶部的按钮 */\r\n\t\t.s-pull-back-top {\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 99;\r\n\t\t\topacity: 0;\r\n\t\t\tpointer-events: none;\r\n\t\t\ttransition: opacity 0.3s linear;\r\n\r\n\t\t\t&.is-show {\r\n\t\t\t\topacity: 1;\r\n\t\t\t\tpointer-events: auto;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.default-back-top {\r\n\t\t\tposition: fixed;\r\n\t\t\tright: 20rpx;\r\n\t\t\tbottom: calc(var(--window-bottom) + 25rpx);\r\n\r\n\t\t\timg {\r\n\t\t\t\twidth: 72rpx;\r\n\t\t\t\theight: 72rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611275582096\n      var cssReload = require(\"D:/迅雷下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}